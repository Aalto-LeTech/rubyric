<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <title>Rubyric</title>
    <%= csrf_meta_tag %>
    <%= stylesheet_link_tag 'red' %>
    <%= javascript_include_tag  :defaults %>
</head>
<body>

<div id="header" class="header">

  <%= image_tag 'rubyric.png', {:alt => 'Rubyric', :id => 'logo'} %>

  <div class="navibar">
    <ul>
      <% if !current_user %>
        <li><%= link_to 'Log In', new_user_session_path %></li>
      <% else %>
        <li><%= link_to 'My preferences', edit_user_path(current_user.id) %></li>
        <li><%= link_to 'Logout', user_session_path, :method => :delete %></li>
      <% end %>
    </ul>
  </div>

  <%= image_tag 'ruby.png', {:alt => '', :id => 'ruby'} %>
</div>

<div>
  <!-- Breadcrumbs -->
  <div class="breadcrumbs">
    <ul>
      <li class="first"><%= link_to 'Rubyric', root_url %></li>
      <% if @course %>
        <li>/ <%= link_to "#{@course.code} #{@course.name}", @course %></li>
      <% end %>

      <% if @course_instance %>
        <li>/ <%= link_to "#{@course_instance.name}", @course_instance %></li>
      <% end %>

      <% if @exercise %>
        <li>/ <%= link_to "#{@exercise.name}", @exercise %></li>
      <% end %>
    </ul>
  </div>

  <!-- Login -->
  <div class="login">
    <%
    user = current_user
    if user
    %>
      <%= link_to "#{h(user.firstname)} #{h(user.lastname)} (#{h(user.studentnumber)})", edit_user_path(user.id) %>
      <% #= link_to 'Logout', logout_url
      %>
    <% end %>
  </div>
</div>

<div class="clear"></div>

<div class="page">
  <!--div id="contextHelp">
  </div-->

  <div class="content-wide">
    <!-- Flash messages -->
    <% if flash[:warning] %>
      <p class="flash flashWarning"><%= h flash[:warning] %></p>
    <% end %>

    <% if flash[:success] %>
      <p class="flash flashSuccess"><%= h flash[:success] %></p>
    <% end %>

    <% if flash[:error] %>
      <p class="flash flashError"><%= h flash[:error] %></p>
    <% end %>

    <%= yield  %>
  </div>
</div>

</body>
</html>
